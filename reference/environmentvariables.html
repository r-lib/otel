<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Environment variables to configure otel — Environment Variables • otel</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Environment variables to configure otel — Environment Variables"><meta name="description" content="This manual page contains the environment variables you can use to
configure the otel package.
See also the Environment Variables
in the otelsdk package, which is charge of the data collection
configuration.
You need set these environment variables when configuring the
collection of telemetry data, unless noted otherwise."><meta property="og:description" content="This manual page contains the environment variables you can use to
configure the otel package.
See also the Environment Variables
in the otelsdk package, which is charge of the data collection
configuration.
You need set these environment variables when configuring the
collection of telemetry data, unless noted otherwise."><script defer data-domain="all.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">otel</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-getting-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Getting Started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-getting-started"><li><a class="dropdown-item" href="../reference/gettingstarted.html">Instrumenting R Packages</a></li>
    <li><a class="external-link dropdown-item" href="https://otelsdk.r-lib.org/reference/collecting.html">Collecting Telemetry Data (otelsdk package)</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Environment variables to configure otel</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/otel/blob/main/R/docs.R" class="external-link"><code>R/docs.R</code></a></small>
      <div class="d-none name"><code>environmentvariables.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This manual page contains the environment variables you can use to
configure the otel package.</p>
<p>See also the <a href="https://otelsdk.r-lib.org/reference/environmentvariables.html" class="external-link">Environment Variables</a>
in the otelsdk package, which is charge of the data collection
configuration.</p>
<p>You need set these environment variables when configuring the
collection of telemetry data, unless noted otherwise.</p>
    </div>


    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Not applicable.</p>
    </div>
    <div class="section level2">
    <h2 id="production-or-development-environment">Production or Development Environment<a class="anchor" aria-label="anchor" href="#production-or-development-environment"></a></h2>

<div class="section">
<h3 id="otel-env"><code>OTEL_ENV</code><a class="anchor" aria-label="anchor" href="#otel-env"></a></h3>


<p>By default otel runs in production mode. In production mode otel
functions never error. Errors in the telemetry code will not stop
the monitored application.</p>
<p>This behavior is not ideal for development, where one would prefer
to catch errors early. Set</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>OTEL_ENV<span class="ot">=</span>dev</span></code></pre><p></p></div>
<p>to run otel in development mode, where otel functions fail on error,
make it easier to fix errors.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="selecting-exporters">Selecting Exporters<a class="anchor" aria-label="anchor" href="#selecting-exporters"></a></h2>
    <p>otel is responsible for selecting the providers to use for traces,
logs and metrics. You can use the environment variables below to
point the otel functions to the desired providers.</p>
<p>If none of these environment variables are set, then otel will not
emit any telemetry data.</p><div class="section">
<h3 id="otel-traces-exporter"><code>OTEL_TRACES_EXPORTER</code><a class="anchor" aria-label="anchor" href="#otel-traces-exporter"></a></h3>


<p>The name of the selected tracer provider. See
<code><a href="get_default_tracer_provider.html">get_default_tracer_provider()</a></code> for the possible values.</p>
</div>

<div class="section">
<h3 id="otel-r-traces-exporter"><code>OTEL_R_TRACES_EXPORTER</code><a class="anchor" aria-label="anchor" href="#otel-r-traces-exporter"></a></h3>


<p>R specific version of <code>OTEL_TRACES_EXPORTER</code>.</p>
</div>

<div class="section">
<h3 id="otel-logs-exporter"><code>OTEL_LOGS_EXPORTER</code><a class="anchor" aria-label="anchor" href="#otel-logs-exporter"></a></h3>


<p>The name of the selected logger provider. See
<code><a href="get_default_logger_provider.html">get_default_logger_provider()</a></code> for the possible values.</p>
</div>

<div class="section">
<h3 id="otel-r-logs-exporter"><code>OTEL_R_LOGS_EXPORTER</code><a class="anchor" aria-label="anchor" href="#otel-r-logs-exporter"></a></h3>


<p>R specific version of <code>OTEL_LOGS_EXPORTER</code>.</p>
</div>

<div class="section">
<h3 id="otel-metrics-exporter"><code>OTEL_METRICS_EXPORTER</code><a class="anchor" aria-label="anchor" href="#otel-metrics-exporter"></a></h3>


<p>The name of the selected meter provider. See
<code><a href="get_default_meter_provider.html">get_default_meter_provider()</a></code> for the possible values.</p>
</div>

<div class="section">
<h3 id="otel-r-metrics-exporter"><code>OTEL_R_METRICS_EXPORTER</code><a class="anchor" aria-label="anchor" href="#otel-r-metrics-exporter"></a></h3>


<p>R specific version of <code>OTEL_METRICS_EXPORTER</code>.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="suppressing-instrumentation-scopes-r-packages-">Suppressing Instrumentation Scopes (R Packages)<a class="anchor" aria-label="anchor" href="#suppressing-instrumentation-scopes-r-packages-"></a></h2>
    <p>otel has two environment variables to fine tune which instrumentation
scopes (i.e. R packages, typically) emit telemetry data. By default,
i.e. if neither of these are set, all packages emit telemetry data.</p><div class="section">
<h3 id="otel-r-emit-scopes"><code>OTEL_R_EMIT_SCOPES</code><a class="anchor" aria-label="anchor" href="#otel-r-emit-scopes"></a></h3>


<p>Set this environment variable to a comma separated string of
instrumentation scope names or R package names to restrict telemetry to
these packages only. The name of the instrumentation scope is the same
as the name of the tracer, logger or meter, see <code><a href="default_tracer_name.html">default_tracer_name()</a></code>.</p>
<p>You can mix package names and instrumentation scope names and you can
also use wildcards (globbing). For example the value</p>
<p>OTEL_R_EMIT_SCOPES="org.r-lib.*,dplyr"</p>
<p>selects all packages with an instrumentation scope that starts with
<code>org.r-lib.</code> and also dplyr.</p>
</div>

<div class="section">
<h3 id="otel-r-suppress-scopes"><code>OTEL_R_SUPPRESS_SCOPES</code><a class="anchor" aria-label="anchor" href="#otel-r-suppress-scopes"></a></h3>


<p>Set this environment variable to a comma separated string of
instrumentation scope names or R package names to suppress telemetry
data from these packages. The name of the instrumentation scope is the same
as the name of the tracer, logger or meter, see <code><a href="default_tracer_name.html">default_tracer_name()</a></code>.</p>
<p>You can mix package names and instrumentation scope names and you can
also use wildcards (globbing). For example the value</p>
<p>OTEL_R_SUPPRESS_SCOPES="org.r-lib.*,dplyr"</p>
<p>excludes packages with an instrumentation scope that starts with
<code>org.r-lib.</code> and also dplyr.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="zero-code-instrumentation"><a href="zci.html">Zero Code Instrumentation</a><a class="anchor" aria-label="anchor" href="#zero-code-instrumentation"></a></h2>
    <p>otel can instrument R packages for OpenTelemetry data collection
without changing their source code. This relies on changing the code
of the R functions manually using <code><a href="https://rdrr.io/r/base/trace.html" class="external-link">base::trace()</a></code> and can be configured
using environment variables.</p><div class="section">
<h3 id="otel-r-instrument-pkgs"><code>OTEL_R_INSTRUMENT_PKGS</code><a class="anchor" aria-label="anchor" href="#otel-r-instrument-pkgs"></a></h3>


<p>Set <code>OTEL_R_INSTRUMENT_PKGS</code> to a comma separated list of packages to
instrument. The automatic instrumentation happens when the otel package
is loaded, so in general it is best to set this environment variable
before loading R.</p>
</div>

<div class="section">
<h3 id="otel-r-instrument-pkgs-lt-pkg-gt-include"><code>OTEL_R_INSTRUMENT_PKGS_&lt;pkg&gt;_INCLUDE</code><a class="anchor" aria-label="anchor" href="#otel-r-instrument-pkgs-lt-pkg-gt-include"></a></h3>


<p>For an automatically instrumented package, set this environment variable
to only instrument a subset of its functions. It is parsed as a comma
separated string of function names, which may also include <code>?</code> and <code>*</code>
wildcards (globbing).</p>
</div>

<div class="section">
<h3 id="otel-r-instrument-pkgs-lt-pkg-gt-exclude"><code>OTEL_R_INSTRUMENT_PKGS_&lt;pkg&gt;_EXCLUDE</code><a class="anchor" aria-label="anchor" href="#otel-r-instrument-pkgs-lt-pkg-gt-exclude"></a></h3>


<p>For an automatically instrumented package, set this environment variable
to exclude some functions from instrumentation. It has the same syntax
as its <code>*_INCLUDE</code> pair. If both are set, then inclusion is applied
and the exclusion.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="attribute-limits">Attribute Limits<a class="anchor" aria-label="anchor" href="#attribute-limits"></a></h2>

<div class="section">
<h3 id="otel-attribute-count-limit"><code>OTEL_ATTRIBUTE_COUNT_LIMIT</code><a class="anchor" aria-label="anchor" href="#otel-attribute-count-limit"></a></h3>


<p>Set this environment variable to limit the number of attributes for a
single span, log record, metric measurement, etc. If unset, the default
limit is 128 attributes.</p>
</div>

<div class="section">
<h3 id="otel-attribute-value-length-limit"><code>OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT</code><a class="anchor" aria-label="anchor" href="#otel-attribute-value-length-limit"></a></h3>


<p>Set this environment variable to limit the length of vectors in
attributes for a single span, log record, metric measurement, etc.
If unset, there is no limit on the lengths of vectors in attributes.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://otelsdk.r-lib.org/reference/environmentvariables.html" class="external-link">Environment Variables</a> in
otelsdk</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># To start an R session using the OTLP exporter:</span></span></span>
<span class="r-in"><span><span class="co"># OTEL_TRACES_EXPORTER=http R -q -f script.R</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

